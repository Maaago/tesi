\documentclass[12pt,a4paper,twoside,english,italian]{book}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Header %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Packages %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage[italian]{babel}
\usepackage[utf8]{inputenc}

\usepackage[a-1b]{pdfx}

\usepackage{uniudtesi}
\usepackage{siunitx}

\usepackage[nottoc]{tocbibind}
\usepackage{indentfirst}
\usepackage{fancyhdr}
\usepackage{emptypage}

\usepackage{amsmath}
\usepackage{esdiff}
\usepackage{cancel}
\usepackage{circuitikz}
\usepackage{comment}
\usepackage{bigints}

\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{rotating}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{titlesec}
\usepackage{setspace}

\usepackage{listings}
\usepackage{gensymb}
\usepackage{adjustbox}
\usepackage{tabularx}
\usepackage{makecell}
\renewcommand{\cellalign}{tr}

\usepackage[backend=biber,style=numeric,sorting=none]{biblatex}
\bibliography{bibliography}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Configs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\title{Tesi}
%\author{Francesco Magoga}
%\date{\today}

\titolo{Realizzazione a tempo reale\\di un clipper per il suono\\attraverso schemi numerici\\innovativi}
\laureando{Magoga Francesco}
\annoaccademico{2020-2021}

%\setcounter{secnumdepth}{4}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\def\arraystretch{1.5}

\setstretch{1.2}

\definecolor{matlab_blue}{RGB}{0,114,189}
\definecolor{matlab_orange}{RGB}{217,83,25}

\definecolor{codebg}{gray}{0.95}
\colorlet{darkred}{red!90!black}

\newsavebox\mypostbreak
\savebox\mypostbreak{\mbox{\ensuremath{\color{red!85!black}\hookrightarrow}\space}}

\lstdefinestyle{code}
{
	%basicstyle=\ttfamily,
	basicstyle=\ttfamily\normalsize,
	backgroundcolor=\color{codebg},
	sensitive=false,
	alsoletter={.},
	xleftmargin=0.5cm,
	belowskip=2px,
	frame=single,
	framesep=5pt,
	framerule=1px,
	gobble=5,
	tabsize=1,
	columns=fullflexible,
	showstringspaces=false,
	numbers=left,
	firstnumber=1,
	numberfirstline=false,
	stepnumber=2,
	numberstyle=\scriptsize\color{black!80},
	numbersep=10pt,
	tabsize=4,
	keepspaces=true,
	breaklines=true,
	%postbreak={\hbox{\textcolor{red}{$\hookrightarrow$}\space}}
	postbreak=\usebox\mypostbreak,
	captionpos=b,
	literate=
    {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
    {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
    {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
    {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
    {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
    {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
    {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
    {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
    {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
    {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
    {€}{{\EUR}}1 {£}{{\pounds}}1 {~}{{\fontfamily{ptm}\selectfont \textasciitilde}}1
}

\lstdefinestyle{matlab}
{
	keywordstyle=\color{blue},
	stringstyle=\color{red},
	commentstyle=\color{green!80!black},
}

\lstdefinestyle{cpp}
{
	%basicstyle=\color{teal}\ttfamily,
	keywordstyle=\color{magenta!75!black},
	%directivestyle=\color{brown!80!black},
	stringstyle=\color{red!85!black},
	commentstyle=\color{green!70!black},
}

\lstdefinelanguage{cppl}
{
	language=C++,
	morekeywords={override},
	moredirectives={once, \#ifndef, \#endif, \#if, \#else, \#endif},
	%moredelim=[s][\color{red!85!black}\ttfamily]{<}{>},
}

\graphicspath{{./imgs/}}

\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\fancyhf{}
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\bfseries\rightmark}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}
\setlength{\headheight}{14.5pt}

\setlength{\intextsep}{2pt}

%\facolta{Scienze Matematiche, Fisiche e Naturali} % (default)
\corsodilaureamagistralein{Informatica}
\relatore[Prof.]{Fontana Federico}
%\relatoreDue[Prof.]{Secondo relatore}
%\correlatore{Bozzo Enrico}
%\correlatoreDue{Secondo Correlatore}
\dedica{Ai miei genitori e ai miei nonni\\
    per avermi sempre supportato in ogni modo}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Custom commands %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\sourcecode}[5]{
	%\label{list:#3}
	\lstset{caption={#4},label=code:#3,style=code,#5}
	\lstinputlisting[language=#1]{#2}
	\vspace{10px}
}

\newcommand{\matlabcode}[2]{
	\sourcecode{Matlab}{../Matlab/#1}{#1}{#2}{style=matlab}
}

\newcommand{\cppcode}[1]{
	\sourcecode{cppl}{../Juce/Source/#1}{#1}{#1}{style=cpp}
}

\newcommand{\screenshot}[3][]
{
	\begin{figure}[H]
		\centering
		\includegraphics[#1]{#2}
		\vspace*{-25px}
		\caption{#3}
		\label{fig:#2}
	\end{figure}
}

\newcommand{\grafico}[2]
{
	\screenshot[width=\textwidth]{plots/#1}{#2}
}
\newcommand{\graficospace}{\vspace{15px}}

\newcommand{\subscreenshot}[3][]
{
	\begin{subfigure}{0.5\textwidth}
		\centering
		\includegraphics[width=0.8\linewidth,#1]{#2}
		\caption{#3}
		\label{fig:#2}
	\end{subfigure}
}

\DeclareMathOperator{\arcsinh}{arcsinh}

\newcommand{\Int}[2]{\bigint \hspace{-6px} #1 \mathrm{d}#2}

\makeatletter
\newcommand{\reallybig}{\bBigg@{4}}
\newcommand{\ReallyBig}{\bBigg@{5}}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Header %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Document %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
	\pagestyle{fancy} 
	\frontmatter
	\maketitle	

	\enlargethispage{-1.5\baselineskip}
	\tableofcontents
	%\listoffigures
	
	\chapter*{Introduzione}
		\markboth{Introduzione}{}
		Spesso nella creazione di effetti audio digitali si parte da un modello analogico che viene opportunamente modificato per poter sottostare ai limiti imposti dalle caratteristiche hardware del computer. Questo si traduce in un passaggio di digitalizzazione del modello di partenza, poiché quando si lavora con i computer, che presentano una memoria limitata, non è possibile lavorare con segnali continui: bisogna utilizzare quindi dei segnali discreti.
		
		Un altro problema che può presentarsi quando si affronta il tema degli effetti audio digitali è la modellazione di \textit{delay-free loop}, ovvero circuiti che presentano un ciclo che collega l'uscita con l'entrata, detto feedback e non vi sono componenti che creano dei ritardi in tale ciclo. Questo significa che ad ogni instante il segnale d'uscita fa parte anche del segnale d'ingresso. Questa situazione crea non pochi problemi nella risoluzione delle equazioni associate alla rete di filtri che descrive il circuito analogico, poiché l'unico modo per calcolare il risultato è utilizzare dei metodi numerici.
		
		Un'ulteriore complicazione è causata dalle componenti non lineari che spesso caratterizzano queste delay-free loop: spesso nel percorso del feedback sono presenti dei componenti elettronici che presentano caratteristiche non lineari che devono essere opportunamente tenute in considerazione.
			
		Il seguente documento tratta quindi dell'implementazione e dell'efficienza di un metodo numerico a punto fisso geometrico, utile per calcolare la soluzione di circuiti delay-free non lineari di filtri digitali. Il metodo numerico proposto permette di passare da un risolutore a punto fisso ad un risolutore Newton-Raphson variando un parametro \texttt{L}.
		
		Per analizzare questo metodo numerico si è deciso di digitalizzare un circuito clipper analogico formato da 4 diodi, poiché tale circuito presenta entrambe le caratteristiche di non linearità e di assenza di ritardo nel feedback.
		
		Si è partiti quindi dalla realizzazione fisica del circuito analogico, per poi passare ad una simulazione della rete di filtri digitali ricavata dallo schema elettrico del circuito creato ed infine, basandosi sui risultati e sul codice della simulazione, è stato poi implementato un effetto audio digitale utilizzabile in tempo reale, anche in contesti molto pratici, tra i quali per esempio la produzione musicale.
	
	\mainmatter

	\raggedbottom
	
	\input{01_punto_fisso}
	
	\input{02_clipper}
	
	\input{03_soluzione_analitica}
	
	\input{04_simulazione}
	
	\input{05_implementazione}
	
	\input{06_circuito_analogico}

	\input{07_conclusioni}
	
	\appendix
	
	\input{08_matlab}
	
	\input{09_cpp}
	
	\backmatter
	
	\printbibliography

\end{document}